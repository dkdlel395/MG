# Module version
    - flask
    - pymysql
    - requests
    - openai
    - jwt
    - requests
    - pymysql-pooling
    - pinecone-client
    - sentence_transformers
    - openai


#### 프로젝트 기간
- 60일

### 홍보영상 : [[멍결고리 홍보영상 YouTube 이동하기]](https://www.youtube.com/watch?v=CcHQCNGeMlg)
- 꼭 봐주세요
### 시연영상 : [[멍결고리 시연영상 YouTube 이동하기]](https://www.youtube.com/watch?v=CGVKXz7o-v8)
- 꼭 봐주세요

# 1. 개발 목표
 멍결고리는 “ 보호소, 유기견, 입양자의 연결고리 “ 라는 뜻으로 이 모두에게 도움을 주는 서비스를 개발하는 것이 목표이다. 단순 유기견 및 보호소 안내가 아닌 멍결고리만의 성격검사, 개성이 부여된 유기견과의 채팅, 매력적인 소개글 생성을 통해 사용자로 하여금 흥미와 관심을 유발한다. 또한 사용자와 유기견이 단방향이 아닌 양방향의 상호작용을 통해 사용자의 입양 적합성을 판단하여 성공적인 입양으로 이어질 수 있도록 하여 안락사 감소에 기여한다.
 
 # 2. 개발 내용
 ![KakaoTalk_20230612_150036730](https://github.com/chubinibini/chubinibini/assets/118544736/38c360d0-38e6-42a6-9f73-59295944db2b)
### ① MGTI(멍결고리 + MBTI) 검사
- 15개 문항을 통해 사용자와 적합한 유기견 파악

### ② 검사 결과를 통해 사용자와 잘 맞는 유형의 유기견 추천
- DB에 저장된 16가지 유형으로 분류된 유기견 중 4마리 추천
  - Stable Diffusion으로 생성한 유기견의 카툰화 프로필 이미지를 DB에서 로드

### ③ 유기견 소개
  - 생성된 이미지 사진과 간단한 유기견의 이름/나이/종 DB에서 로드
  - 유기견 특성/히스토리/종을 바탕으로 정교한 GPT 프롬프트 엔지니어링을 통한 소개글 생성
### ④ 선택한 유기견과의 채팅
  - 유기견의 특징에 맞게 생성된 페르소나를 DB에서 로드
  - GPT를 사용하여 사용자와 부여된 고유 페르소나로 의인화된 유기견 캐릭터와 채팅
  - 채팅에서 유기견 입양 적합성 판단
 
 # 3. 핵심 기술
 ## 1. GPT
- 유기견마다 고유 특성 부여
- 눈길을 사로잡는 유기견의 페르소나, 소개글 생성
- 사용자와 유기견 캐릭터의 개성을 담은 대화 경험 제공
- GPT Plugin을 통해 채팅 DB와 연결, 유기견 캐릭터가 이전 대화 내용을 기억함으로써 자연스러운 대화 구현
- API 호출 제한 초과 이슈 해결
#### 1.1 페르소나 및 소개글 생성 프롬프트 진행과정
![페르소나](https://github.com/chubinibini/chubinibini/assets/118544736/df5683b1-4b4f-496b-bbe1-9c8b811b8583)
#### 1.2 채팅 프롬프트 진행과정
![채팅](https://github.com/chubinibini/chubinibini/assets/118544736/dc61ff44-5c77-4688-9228-12e8aff650de)
#### 1.3 채팅 장기기억 부여 과정
![장기기억](https://github.com/chubinibini/chubinibini/assets/118544736/4bfc92b5-e7b7-45d3-a83f-638f062cf937)
#### 1.4 채팅 결과
![채팅결과](https://github.com/chubinibini/chubinibini/assets/118544736/d7e50dd5-3220-43fc-a07e-7750d1c28695)


## 2. Stable Diffusion
- 기존의 보편적인 인물 카툰화 생성 모델과는 차별된 Stable Diffusion 동물 카툰화 모델 학습
- 각 유기견에게 부여된 페르소나에 따라 프로필 사진 카툰화
#### 2.1 Stable Diffusion 프롬프트 진행과정
![디퓨전](https://github.com/chubinibini/chubinibini/assets/118544736/d40c3713-cc3c-46b8-8b2b-f0772aa01a7c)
#### 2.2 Stable Diffusion 결과
![태리](https://github.com/chubinibini/chubinibini/assets/118544736/82860295-cb68-46e6-9993-cdf4156a0b64)

# 4. 기대 효과

● **경제적 측면**
- 유기견 입양률을 높이고 안락사를 줄여 보호소의 시간과 운영비 및 안락사비 절감으로 효율적인 보호소 운영이 가능
- 보호소에서 입양을 촉진하기 위한 다양한 장려책 및 혜택 제공으로 입양률 상승
- 유기견 인식 변화와 함께 입양 시장 활성화 및 동물 관련 산업 성장에 기여

● **기술적 측면**
- 사용자 경험을 향상시키는 다양한 최신 디지털 기술을 활용한 서비스 제공
- 강아지와의 채팅 시스템에서는 자연어 처리 기술을 사용하여 강아지의 대화를 이해하고, 사용자의 대화와 분석하여 강아지와 사용자간의 적합성 판단
- 데이터 분석 기술을 활용하여 입양 가능한 강아지와 사용자 간 최적의 매칭 기술 적용

● **사회적 측면**
- 유기견 입양률 증가를 통한 안락사 감소 
- 동물 보호에 대한 인식과 의식의 상승 및 사회적 책임감 강화
- 유기견 보호에 정책과 제도 발전에 기여하여 동물 복지 증진

# 5. 개발 추진 체계
### 1. 개발 일정

|주차|설명|
|----|-----|
|1주차|DB, 프론트엔드, 백엔드, 인프라, GPT모델, Stable Diffusion모델의 설계|
|2주차|DB, 프론트엔드, 백엔드의 구현|
|3주차|GPT모델과 Stable Diffusion모델과 서비스 연동|
|4주차|AWS 서비스 구현과 Stable Diffusion모델 학습|
|5주차|GPT모델과 Stable Diffusion diffusion 모델 프롬프트 엔지니어링 및 성능 강화|
|6주차|서비스 완성도 작업|

### 2. 역할 분담

|이름|역할|
|----|-----|
|윤예찬(팀장)|백엔드, 모델 구현|
|박상욱|인프라 연동, 백엔드|
|박수빈|DB 설계, 모델 구현|
|고종현|모델 구현, Jira 담당|
|이지원|프론트엔드, 모델 구현|
|지승엽|프론트엔드, 모델 구현|

### 프로젝트 진행 중 마주한 어려움
- GPT 출력 형식을 제어하는것이 가장 어려웠다. 예를들어 행복한 강아지라는 페르소나를 부여한다고 해보자. 내가 질문을하면 행복한 강아지를 연기하며 답변을 해줄것이다. 하지만 욕설 혹은 특정 질문을 하게 되면 "자신은 GPT 인공지능이므로 답변을 해줄 수 없다"라는 말을 한다. 이러한 문제를 해결하기 위해 많은 공부와 시간을 쏟았다. COT(Chain-of-Thought·생각의 연결고리) 기법을 활용하여, 순차적으로 생각하고 결과를 도출해내도록 만들었고, COT 기법 사용시 문제점인 모든 결과를 하나하나 보여주는 것을 해결하기 위해 답변형식을 지정해주었다. 마지막으로 백틱을 통해 영역을 명확히 구분해주었다.
- 방향성이 달라진다는 점이다. 프로젝트 초기에 방향성을 설정하고 진행하였다. 하지만 시간이 지날수록 각자 기억에 왜곡이 일어나고 점점 서로 다른 방향성을 갖게되어 의견이 대립되었다. 이번 경험으로 회의의 중요성과 회의 초반에 방향성을 계속 상기시켜줘야 한다는 것을 깨달았다.

  
### 기술스택
![기술스택](https://github.com/yunyechan9893/sk_rookies_project5/assets/125535111/2d1ef016-cf6d-48b5-b0c1-7173f67f3c46)

### ERD
![7조_ERD](https://github.com/yunyechan9893/SKRookiesProject5-MG/assets/125535111/5d835ec4-539c-4ca0-8e5b-700f7dbb574c)

### 인프라 구성도
![7조_인프라구성도](https://github.com/yunyechan9893/sk_rookies_project5/assets/125535111/c5c18ae0-ee20-44a3-97f7-ca7923d27d67)

### 서류
- WBS
- 개발기능 정의서
- 요구사항 정의서
- 클라우드 사용계획서
- 프로젝트 계획서
- 회의록
- 기획발표
- 중간발표
- 최종발표
